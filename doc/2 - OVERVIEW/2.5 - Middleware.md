## Middleware

中间件是在路由处理程序之前调用的函数。 中间件函数可以访问请求和响应对象，以及应用程序请求-响应循环中的 next() 中间件函数。 next 中间件函数通常由名为 next 的变量表示。

![img](https://docs.nestjs.com/assets/Middlewares_1.png)

默认情况下，Nest 中间件等效于 express 中间件。 以下来自 express 官方文档的描述描述了中间件的功能：

>中间件功能可以执行以下任务：
>
>* 执行任何代码。
>* 对请求和响应对象进行更改。
>* 结束请求-响应循环。
>* 调用堆栈中的下一个中间件函数。
>* 如果当前中间件函数没有结束请求-响应循环，则必须调用 next() 将控制权传递给下一个中间件函数。 否则，请求将被挂起。

